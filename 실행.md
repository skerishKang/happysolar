
# HappySolar 문서 생성 시스템 실행 방법

## 사전 요구사항

### 1. 환경 설정
- Node.js 18+ 버전이 설치되어 있어야 합니다.
- PostgreSQL 데이터베이스가 설정되어 있어야 합니다.
- OpenAI API 키가 필요합니다.

### 2. 환경 변수 설정
다음 환경 변수들을 설정해주세요:

```bash
# OpenAI API 키
OPENAI_API_KEY=your-openai-api-key-here

# 데이터베이스 연결
DATABASE_URL=your-postgresql-connection-string

# 세션 비밀키
SESSION_SECRET=your-session-secret
```

## 설치 및 실행

### 1. 의존성 설치
```bash
npm install
```

이 명령어는 package.json에 정의된 모든 의존성을 설치합니다.

### 2. 데이터베이스 설정
```bash
npm run db:push
```

Drizzle ORM을 사용하여 데이터베이스 스키마를 생성합니다.

### 3. 개발 서버 실행
```bash
npm run dev
```

개발 모드로 애플리케이션을 시작합니다.

### 4. 애플리케이션 접속
브라우저에서 다음 주소로 접속합니다:
```
http://0.0.0.0:5000
```

## 프로덕션 배포

### 1. 빌드
```bash
npm run build
```

프론트엔드와 백엔드를 모두 빌드합니다.

### 2. 프로덕션 실행
```bash
npm start
```

빌드된 애플리케이션을 프로덕션 모드로 실행합니다.

## 사용 방법

### 1. 메인 대시보드
- 애플리케이션 실행 후 메인 대시보드에서 다양한 문서 생성 옵션을 확인할 수 있습니다.
- 월간 통계, 최근 문서, 회사 정보 등이 표시됩니다.

### 2. 문서 생성
다음 7가지 유형의 문서를 생성할 수 있습니다:

#### 📋 세금계산서
- 거래 상대방 정보와 상품/서비스 내역을 입력
- AI가 법적 요구사항에 맞는 세금계산서 자동 생성

#### 📊 거래명세서
- 상세한 거래 내역과 금액 정보 입력
- 전문적인 거래명세서 자동 작성

#### 📝 계약서
- 계약 조건과 당사자 정보 입력
- 법무 검토가 완료된 전문 계약서 생성

#### 🎨 프레젠테이션
- 발표 목적과 대상, 주요 내용 입력
- 캔바 연동 가능한 전문 PPT 자동 생성

#### 💼 제안서
- 고객 정보와 사업 내용 입력
- 태양광 사업 맞춤형 제안서 생성

#### 📋 회의록
- 회의 정보 입력 (음성파일 업로드 지원)
- 자동 요약 및 액션아이템 추출

#### 📧 이메일
- 수신자 정보와 핵심 내용 입력
- 4개국어 번역 지원하는 전문 이메일 작성

### 3. 문서 다운로드
- 생성된 문서는 PDF 형태로 다운로드 가능
- 대시보드에서 최근 생성된 문서 목록 확인 및 재다운로드 가능

## 주요 스크립트 명령어

```bash
# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 프로덕션 서버 실행
npm start

# TypeScript 타입 체크
npm run check

# 데이터베이스 스키마 푸시
npm run db:push
```

## 포트 정보
- **개발/프로덕션**: 5000번 포트
- **접속 주소**: http://0.0.0.0:5000

## 문제 해결

### 일반적인 오류들

1. **tsx: not found**
   - Node.js 버전이 18+ 인지 확인
   - `npm install` 재실행

2. **데이터베이스 연결 오류**
   - DATABASE_URL 환경 변수 확인
   - PostgreSQL 서버 실행 상태 확인

3. **OpenAI API 오류**
   - OPENAI_API_KEY 환경 변수 확인
   - API 키 유효성 및 잔액 확인

### 로그 확인
서버 콘솔에서 API 요청과 응답 로그를 확인할 수 있습니다.
